import streamlit as st

st.set_page_config(page_title="FORESTLOOK: Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ð¾Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ", layout="wide")
st.title("ðŸ’¡ FORESTLOOK â€” Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ð¾Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ â€œÐ ÐµÑÐ»Ð¸...â€")
st.markdown("Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ: **Ð¼Ð¾Ð¶Ð½Ð¾ Ð»Ð¸ Ñ‚Ñ€Ð°Ñ‚Ð¸Ñ‚ÑŒ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¸Ð»Ð¸ Ð½ÐµÑ‚**.")

# Ð’Ð²Ð¾Ð´ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ
with st.sidebar:
    st.header("ðŸ“¥ Ð’Ð²Ð¾Ð´ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð²")
    current_profit = st.number_input("Ð§Ð¸ÑÑ‚Ð°Ñ Ð¿Ñ€Ð¸Ð±Ñ‹Ð»ÑŒ Ð·Ð° Ð¼ÐµÑÑÑ† (â‚½)", value=300000)
    current_expense = st.number_input("Ð Ð°ÑÑ…Ð¾Ð´Ñ‹ Ð·Ð° Ð¼ÐµÑÑÑ† (â‚½)", value=210000)
    st.markdown("---")
    st.subheader("ðŸ§  Ð§Ñ‚Ð¾ Ñ‚Ñ‹ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ?")
    scenario = st.selectbox("Ð’Ñ‹Ð±ÐµÑ€Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ", [
        "ÐÐ°Ð½ÑÑ‚ÑŒ Ð½Ð¾Ð²Ð¾Ð³Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ°",
        "Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð±ÑŽÐ´Ð¶ÐµÑ‚ Ð½Ð° Ñ€ÐµÐºÐ»Ð°Ð¼Ñƒ",
        "Ð¡Ð½ÑÑ‚ÑŒ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð¿Ð¾Ð¼ÐµÑ‰ÐµÐ½Ð¸Ðµ",
        "Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð±ÑŽÐ´Ð¶ÐµÑ‚ Ð½Ð° ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚",
        "Ð”Ñ€ÑƒÐ³Ð¾Ðµ"
    ])
    new_expense = st.number_input("Ð’Ð¾ ÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÑ‚Ð¾ Ð¾Ð±Ð¾Ð¹Ð´Ñ‘Ñ‚ÑÑ? (â‚½)", value=100000)

# Ð Ð°ÑÑ‡Ñ‘Ñ‚
st.markdown("## ðŸ“Š Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð¼Ð¾Ð´ÐµÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ")

total_new_expense = current_expense + new_expense
new_net_profit = current_profit - total_new_expense
roi = round((new_net_profit / total_new_expense) * 100, 2) if total_new_expense > 0 else 0

if new_net_profit < 0:
    st.error(f"âŒ ÐÐµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ.\n\nÐŸÐ¾ÑÐ»Ðµ Ð²Ð½ÐµÐ´Ñ€ÐµÐ½Ð¸Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð²Ñ‹ ÑƒÐ¹Ð´Ñ‘Ñ‚Ðµ Ð² ÑƒÐ±Ñ‹Ñ‚Ð¾Ðº: **{new_net_profit}â‚½**.")
    if roi < 10:
        st.warning("ROI ÑƒÐ¿Ð°Ð´Ñ‘Ñ‚ Ð½Ð¸Ð¶Ðµ 10% â€” Ð±Ð¸Ð·Ð½ÐµÑ ÑÑ‚Ð°Ð½ÐµÑ‚ ÑƒÐ±Ñ‹Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¼.")
    st.markdown("ðŸ’¡ Ð¡Ð¾Ð²ÐµÑ‚: Ð¾Ñ‚Ð»Ð¾Ð¶Ð¸ ÑÑ‚Ð¾ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð¸Ð»Ð¸ ÑƒÐ²ÐµÐ»Ð¸Ñ‡ÑŒ Ð¿Ñ€Ð¸Ð±Ñ‹Ð»ÑŒ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ Ð½Ð° " +
                f"**{abs(new_net_profit)}â‚½**, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾ÑÑ‚Ð°Ñ‚ÑŒÑÑ Ð² Ð½ÑƒÐ»Ðµ.")
else:
    st.success(f"âœ… Ð Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¾. ÐŸÐ¾ÑÐ»Ðµ Ð²Ð½ÐµÐ´Ñ€ÐµÐ½Ð¸Ñ Ð¾ÑÑ‚Ð°Ð½ÐµÑ‚ÑÑ Ñ‡Ð¸ÑÑ‚Ñ‹Ð¼Ð¸: **{new_net_profit}â‚½**")
    st.markdown(f"ðŸ“ˆ ÐÐ¾Ð²Ñ‹Ð¹ ROI: **{roi}%**")

st.markdown("---")
st.caption("FORESTLOOK | Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ð°Ñ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð´Ð»Ñ Ð¿Ñ€Ð¸Ð½ÑÑ‚Ð¸Ñ Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹")
